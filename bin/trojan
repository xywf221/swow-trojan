#!/usr/bin/env php
<?php

use Symfony\Component\Console\Application;
use xywf221\Trojan\Command\ServerCommand;
use xywf221\Trojan\Command\ServiceCommand;
use xywf221\Trojan\Version;


ini_set('display_errors', 'on');
ini_set('display_startup_errors', 'on');
ini_set('memory_limit', '1G');

error_reporting(E_ALL);
date_default_timezone_set('Asia/Shanghai');

!defined('BASE_PATH') && define('BASE_PATH', dirname(__DIR__, 1));

require BASE_PATH . '/vendor/autoload.php';

(function () {
    $application = new Application();
    $application->setName("trojan protocol for php");
    $application->add(new ServiceCommand());
    $application->setDefaultCommand('service',true);


    $application->setVersion(Version::info());
    $application->run();
})();

